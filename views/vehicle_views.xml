<odoo>
  <!-- 
  ************************************* 
   VUE FORM 
  *************************************
  -->
  <record id="view_form_vehicle" model="ir.ui.view">
    <field name="name">Vehicle form</field>
    <field name="model">rentcars.vehicle</field>
    <field name="arch" type="xml">
      <form string="vehicle">
         <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
         <!-- rajouter un bouton qui verifie que la plaque immatriculation a -->
         <!-- bien un format 2 lettres, 3 chiffres, 2 lettres.               -->
         <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
         <header>
	          <button name="button_check_immatriculation"
	                  type="object"
	                  string="Contrôle immatriculation"
	                  icon="fa-car"/>
	          <button name="%(action_rentcars_vehicle)d"
	                  string="Retour"
	                  type="action"
	                  icon="fa-house"/>
         </header>
         <!-- ****************************************************** -->
         <!--                       Colonnes et onglets              -->
         <!-- ****************************************************** -->
         <sheet>
           <h3>Première partie</h3>
           <group name="group1" class="my-group-bordered" >
               <group name="group1_column_left" class="my-group-bordered">
                  <field name="model" />
                  <field name="active" />
                  <field name="marque" />
               </group>
               <group name="group1_column_right" class="my-group-bordered">
                 <field name="date_purchased" options='{"style": "width: 800px;"}'/>
                 <field name="immatriculation" />
                 <field name="thumbnail" widget="image" options='{"size": [150, 140]}' groups="rentcars.rentcars_group_manager"/> 
               </group>
               
           </group>

           <h3>Deuxième partie</h3>
		   <group name="group2" class="my-group-bordered" >
               <group name="group2_left" class="my-group-bordered">
                 <!-- Afficher le champ immatriculation uniquement si le véhicule est utilisable --> 
                 
                 <field name = 'broken_state' invisible = 'state != "broken"' require = 'state == "broken"'/>
                 <field name = 'repair_state' invisible = 'state != "repair"' require = 'state == "repair"'/>
                 <field name = 'use_state'    invisible = 'state != "use"'    require = 'state == "use"'/>
                 
                 <field name="immatriculation" invisible = 'state != "use"'/>
                
                 <field name="state" widget="statusbar"/>

               </group>
               <group name="group2_right" class="my-group-bordered">
               	  <field name="option_ids" widget="many2many_tags"/>
               </group>
           </group>

           <h3>Troiseme partie</h3>
           <group name="groupe3" class="my-group-bordered">
             <group name="group3_column_left" class="my-group-bordered">
                 <button name="action_set_use"    type="object" string="Utilisable"             invisible = 'state == "use"'/>
          		 <button name="action_set_repair" type="object" string="En cours de réparation" invisible = 'state == "repair"'/>
          		 <button name="action_set_broke"  type="object" string="En panne"               invisible = 'state == "broken"'/> 
             </group>
           </group>
           
           <h3>Quatrième partie</h3>
           <group name="groupe4">
             <group name="group4_column_left" class="my-group-bordered">
               <!-- champ garage_id dans le modèle vehicle qui permet de stocker dans quel garage un véhicule est gare  -->
               <field name="garage_id"/>
             </group>
             <group name="group4_column_right" class="my-group-bordered">
             	<field name="age_vehicle"/>
             </group>
             
             <notebook>
             </notebook>
             
           </group> 
        </sheet>
      </form>
    </field>
  </record>
  <!-- 
  ************************************* 
   VUE LISTE 
  *************************************
  -->
  <record id="view_tree_vehicle" model="ir.ui.view">
    <field name="name">Vehicle list</field>
    <field name="model">rentcars.vehicle</field>
    <field name="arch" type="xml">
      <list string="Information">
        <field name="marque"/>
        <field name="model"/>
        <field name="immatriculation"/>
        <field name="date_purchased"/>
      </list>
    </field>
  </record>
  <!-- 
  ************************************* 
   FILTRES 
  *************************************
  -->
  <record id="view_search_vehicle" model="ir.ui.view">
    <field name="name">Vehicle Filter</field>
    <field name="model">rentcars.vehicle</field>
    <field name="arch" type="xml">
        <search>
          <field name="immatriculation"/>
          <field name="model"/>
          <field name="date_purchased"></field>
          <filter name="filter_inactive" string="Inactive" domain="[('active','=',False)]"/>
          <filter name="filter_active" string="Active" domain="[('active','=',True)]"/>
          <filter name="filter_model" string="Modele" domain="[('model','=','RENAULT')]"/>
        </search>
    </field>
  </record>  
</odoo>
